[metadata]
name    = "ipfs-e2e-1"
author  = "Cory Schwartz (cory@protocol.ai)"

[global]
plan    = "ipfs-e2e"
case    = "e2e"
builder = "docker:go"
runner  = "local:docker"

total_instances = 6

[[groups]]
id = "new_seeders"
instances = { count = 1 }

  [groups.build]
  dependencies = [
      { module = "github.com/libp2p/go-libp2p-kad-dht", version = "latest"},
      # { module = "github.com/libp2p/go-bitswap", version = ""},
  ]

  [groups.run]
  test_params = {}

[[groups]]
id = "new_leechers"
instances = { count = 2 }

  [groups.build]
  dependencies = [
      { module = "github.com/libp2p/go-libp2p-kad-dht", version = "latest"},
      # { module = "github.com/libp2p/go-bitswap", version = ""},
  ]

  [groups.run]
  test_params = {}

[[groups]]
id = "old_seeders"
instances = { count = 1 }

  [groups.build]
  dependencies = [
      { module = "github.com/libp2p/go-libp2p-kad-dht", version = "995fee9e5345fdd7c151a5fe871252262db4e788"},
      # { module = "github.com/libp2p/go-bitswap", version = ""},
  ]

  [groups.run]
  test_params = {}

[[groups]]
id = "old_leechers"
instances = { count = 2 }

  [groups.build]
  dependencies = [
      { module = "github.com/libp2p/go-libp2p-kad-dht", version = "995fee9e5345fdd7c151a5fe871252262db4e788"},
      # { module = "github.com/libp2p/go-bitswap", version = ""},
  ]

  [groups.run]
  test_params = {}


